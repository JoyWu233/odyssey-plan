# 奥德赛计划 - 阿里云部署指南

本指南将帮助您在阿里云上部署"奥德赛计划"网站。根据您的需求，我们提供两种部署方案：对象存储服务(OSS)和轻量应用服务器。

## 方案一：阿里云OSS部署（适合静态网站）

### 准备工作

1. 已优化的代码文件（已将国外CDN替换为国内CDN）
2. 一个阿里云账号

### 步骤一: 注册/登录阿里云账号

1. 访问 [阿里云官网](https://www.aliyun.com/)
2. 点击右上角的"登录"或"注册"按钮
3. 按照提示完成账号注册流程（如果已有账号则直接登录）

### 步骤二: 开通对象存储OSS服务

1. 登录阿里云控制台后，在产品与服务中搜索"对象存储OSS"
2. 点击进入OSS服务页面
3. 如果未开通，请点击"立即开通"并按照提示完成开通流程

### 步骤三: 创建OSS存储桶(Bucket)

1. 在OSS控制台首页，点击"创建Bucket"按钮
2. 在创建页面填写以下信息:
   - **Bucket名称**: 输入一个全局唯一的名称，例如"odyssey-plan-[您的名字]"
   - **地域**: 选择"华东1(杭州)"或"华东2(上海)"等国内区域
   - **存储类型**: 选择"标准存储"
   - **读写权限**: 选择"公共读"
   - **版本控制**: 保持默认
3. 其他选项保持默认设置
4. 点击"确定"完成创建

### 步骤四: 上传网站文件

1. 进入刚才创建的Bucket详情页面
2. 点击"文件管理" > "上传文件"
3. 在弹出的窗口中，上传以下文件:
   - `index.html`
   - `script.js`
   - 以及项目中的其他任何资源文件
4. 上传设置中保持默认选项
5. 点击"上传"按钮开始上传文件

### 步骤五: 配置静态网站托管

1. 在Bucket管理页面，点击左侧的"基础设置"
2. 找到"静态页面"区域，点击"设置"
3. 在弹出的设置窗口中:
   - 勾选"开启"
   - 默认首页设置为"index.html"
   - 默认404页可以留空或设置为自定义页面
4. 点击"保存"应用设置

### 步骤六: 测试访问

1. 在Bucket管理页面，找到"概览"标签
2. 在页面上找到"访问域名"区域
3. 使用提供的"静态网站域名"链接访问您的网站
   - 格式类似: `http://odyssey-plan-xxx.oss-cn-hangzhou.aliyuncs.com`

## 方案二：阿里云轻量应用服务器部署（适合需要自定义域名或更多功能的网站）

### 准备工作

1. 已优化的代码文件
2. 一个阿里云账号
3. （可选）已备案的域名

### 步骤一：购买轻量应用服务器

1. 登录阿里云控制台
2. 在产品与服务中搜索"轻量应用服务器"并点击进入
3. 点击"创建服务器"，选择以下配置：
   - **地域**: 选择离您目标用户最近的地域，如"华东1(杭州)"
   - **镜像**: 选择"应用镜像" > "宝塔Linux面板"
   - **实例规格**: 推荐选择"2核4GB"配置（对于静态网站足够）
   - **系统盘**: 默认40GB足够
   - **网络带宽**: 推荐3Mbps起步
   - **服务器名称**: 自定义，如"odyssey-plan-server"
   - **购买时长**: 根据需求选择

4. 完成订单并支付

### 步骤二：连接并初始化服务器

1. 服务器创建完成后，在控制台可以看到服务器的公网IP
2. 记下初始用户名（一般为`root`）和初始密码（在控制台查看）
3. 使用浏览器访问：`http://[服务器公网IP]:8888`
4. 首次访问需要设置宝塔面板管理员账号和密码
5. 使用设置的账号密码登录宝塔面板

### 步骤三：配置Web环境

1. 登录宝塔面板后，如果没有自动弹出"推荐安装套件"，请点击面板左侧的"软件商店"
2. 安装LNMP环境（对于静态网站，只需要安装Nginx即可）：
   - 点击Nginx，选择稳定版本安装
   - 如果未来需要后端功能，可以选择安装PHP和MySQL

3. 安装过程中，请耐心等待，不要关闭页面

### 步骤四：创建网站

1. 在宝塔面板左侧点击"网站"
2. 点击"添加站点"
3. 填写以下信息：
   - **域名**: 如果有已备案域名，填入域名；如果没有，可以直接使用IP访问，此处填写"localhost"
   - **根目录**: 默认在`/www/wwwroot/`下创建站点目录
   - **PHP版本**: 静态网站选择"纯静态"
   - **SSL**: 暂时不设置，后续可以再配置

4. 点击"提交"创建站点

### 步骤五：上传网站文件

1. 在宝塔面板左侧点击"文件"
2. 导航至您的网站根目录（通常是`/www/wwwroot/[您的站点名]`）
3. 点击上传按钮，上传以下文件：
   - `index.html`
   - `script.js`
   - 以及项目中的其他任何资源文件

4. 或者，如果您熟悉FTP，也可以使用FileZilla等FTP客户端上传文件：
   - 主机：服务器公网IP
   - 用户名：FTP用户名（可在宝塔面板中创建）
   - 密码：对应的FTP密码
   - 端口：默认21

### 步骤六：配置域名解析（如有域名）

1. 登录阿里云控制台，进入"域名"服务
2. 选择您的域名，点击"解析"
3. 点击"添加记录"，设置：
   - **记录类型**: A
   - **主机记录**: 通常使用www或@（@表示根域名）
   - **记录值**: 您的服务器公网IP
   - **TTL**: 默认即可

### 步骤七：配置SSL证书（推荐）

1. 在宝塔面板左侧点击"网站"
2. 找到您的站点，点击"设置"
3. 点击"SSL"标签
4. 对于测试站点，可以使用免费的"Let's Encrypt"证书：
   - 点击"Let's Encrypt"
   - 选择需要证书的域名
   - 点击"申请"

5. 证书申请成功后，点击"强制HTTPS"确保访问安全

### 步骤八：测试访问

1. 使用浏览器访问您的网站：
   - 如果配置了域名：`https://www.您的域名.com`
   - 如果没有域名：`http://服务器公网IP`

2. 测试网站的各项功能是否正常

## 费用估算

### OSS方案
- **存储费用**: 按实际存储量计费，小型网站约每月1元左右
- **流量费用**: 根据访问量计费，小型网站约每月5-10元
- **请求费用**: 通常很低，每月不到1元
- **总计**: 预计每月约10元左右

### 轻量应用服务器方案
- **服务器费用**: 2核4GB配置，一般约90-120元/月
- **域名费用**: 首年约30-200元（取决于域名类型）
- **备案费用**: 免费，但需要时间和精力
- **总计**: 首年约1200-1500元，后续每年约1000-1200元

## 性能优化建议

1. **启用CDN加速**：
   - 在OSS方案中，可以通过配置阿里云CDN加速访问
   - 在服务器方案中，可以使用阿里云CDN或宝塔面板中的CDN插件

2. **开启Gzip压缩**：
   - 在OSS方案中，可以在控制台开启
   - 在服务器方案中，通过Nginx配置开启

3. **设置缓存策略**：
   - 配置适当的HTTP缓存头，减少重复请求

## 故障排除

如果遇到访问问题，请检查:

1. **OSS方案**:
   - Bucket权限是否设置为"公共读"
   - 静态网站托管是否正确配置
   - 如使用自定义域名，检查CNAME记录是否正确设置

2. **服务器方案**:
   - 安全组/防火墙是否开放80和443端口
   - Nginx配置是否正确
   - 域名解析是否生效（可使用`ping`命令测试）

## 联系支持

如果您在部署过程中遇到任何问题，可以通过以下方式获取支持:

1. 阿里云官方支持: [帮助文档](https://help.aliyun.com/)
2. 宝塔面板支持: [宝塔论坛](https://www.bt.cn/bbs)
3. 微信联系: largewind 